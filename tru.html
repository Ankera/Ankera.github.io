<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TrustedSite å¤šè¯­è¨€åˆ‡æ¢ Demo</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }
    .lang-buttons {
      margin: 20px 0;
    }
    .lang-buttons button {
      margin-right: 10px;
      padding: 5px 10px;
    }
  </style>

  <script>
    // æ”¯æŒçš„è¯­è¨€
    const supportedLangs = ['en', 'de', 'fr', 'es', 'it', 'nl', 'zh', 'zh-TW'];

    function getInitialLang() {
      const rawLang = navigator.language || navigator.userLanguage || 'en';
      const code = rawLang.split('-')[0];
      return supportedLangs.includes(code) ? code : 'en';
    }

    // åˆå§‹åŒ–è¯­è¨€
    const initialLang = getInitialLang();

    // TrustedSite é…ç½®
    window._trustedsite_config = {
      lang: initialLang,
    };
  </script>

  <!-- TrustedSite è„šæœ¬ï¼ˆasyncï¼‰ -->
  <script
    type="text/javascript"
    src="https://cdn.ywxi.net/js/1.js"
    async
  ></script>
</head>

<body>
  <h1>ğŸŒ TrustedSite å¤šè¯­è¨€æ¼”ç¤º</h1>
  <p>å½“å‰è¯­è¨€ä»£ç ï¼š<strong id="current-lang"></strong></p>

  <!-- è¯­è¨€åˆ‡æ¢æŒ‰é’® -->
  <div class="lang-buttons">
    <button onclick="switchLang('en')">English</button>
    <button onclick="switchLang('de')">Deutsch</button>
    <button onclick="switchLang('fr')">FranÃ§ais</button>
    <button onclick="switchLang('es')">EspaÃ±ol</button>
    <button onclick="switchLang('it')">Italiano</button>
    <button onclick="switchLang('zh')">ç®€ä½“ä¸­æ–‡</button>
    <button onclick="switchLang('zh-TW')">ç¹é«”ä¸­æ–‡</button>
  </div>

  <!-- TrustedSite å¾½ç« å®¹å™¨ -->
  <div
    class="trustedsite-trustmark"
    data-type="211"
    data-width="135"
    data-height="56"
  ></div>

  <script>
    document.getElementById('current-lang').textContent = window._trustedsite_config.lang;

    function switchLang(lang) {
      // æ›´æ–°é…ç½®
      window._trustedsite_config.lang = lang;

      // ç§»é™¤ç°æœ‰å¾½ç« å…ƒç´ 
      const trustmark = document.querySelector('.trustedsite-trustmark');
      if (trustmark) trustmark.innerHTML = '';

      // é‡æ–°åŠ è½½ TrustedSite è„šæœ¬
      const existingScript = document.querySelector('script[src*="cdn.ywxi.net/js/1.js"]');
      if (existingScript) existingScript.remove();

      const newScript = document.createElement('script');
      newScript.type = 'text/javascript';
      newScript.src = 'https://cdn.ywxi.net/js/1.js';
      newScript.async = true;
      document.head.appendChild(newScript);

      // æ˜¾ç¤ºå½“å‰è¯­è¨€
      document.getElementById('current-lang').textContent = lang;
    }
  </script>
</body>
</html>
